# 各章节重点
## 表面层次的改进
> 代码应该易于理解。代码的写法应当使别人理解所需的时间最小化。

### 1. 选择好的名字
> 把信息放进名字里。

*. 选择专业的词。

> 找更有表现力的词

单词 | 更多选择
---  | ---
send | deliver、dispatch、announce、distribute、route
find | search、extract、locate、recover
start| launch、create、begin、open
make | create、set up、build、generate、compose、add、new

> 循环迭代器

```python
if (clubs[ci].members[mi] == users[ui])  
#OK。首字母匹配。
```
*. 避免泛泛的名字。

> 避免像tmp和retval这样泛泛的名字

*. 使用具体名字代替抽象的名字。

*. 使用前缀或后缀来给名字附带更多的信息。
```js
//1. 变量带单位。
var start_ms = (new Date()).getTime()

```

```js
//2. 附带其他重要属性
var plaintext_password
var unescaped_comment
var html_utf8
```

名称|含义
---|---
pLast|指向某数据结构最后一个元素的指针
pszBuffer|指向一个以零结尾(z)的字符串(s)的指针
cch|一个字符(ch)计数(c)
mpcopx|在指向颜色的指针(pco)和指向x轴长度的指针(px)之间的一映射(m)

*. 决定名字的长度。

> 在小的作用域里可以使用短的名字

> 首字母缩略词和缩写

> 丢掉没用的词

Convert To String()就不如ToString()这个更短的名字，而且没有丢失任何有用的信息。同样，不用DoServeLoop()，ServeLoop()也一样清楚。

**利用名字的格式来表达含义。**
    
    1. 使用CamelCas来表示类名
    2. lower_seperated来表示变量名
    3. kConstantName常量名
    4. MACRO_NAME宏名

**不会误解的名字**


### 2. 写好的注释
> 注释的目的是尽量帮助读者了解的和作者一样多。
    
    1. 了解什么不需要注释
        **不要为那些从代码本身就能快速推断的事实写注释**
        1. 不要为注释而注释
        2. 不要给不好的名字加注释，应该把名字改好
    2. 用代码记录你的思想
        1. 加入“导演评论”
        2. 为代码中的瑕疵写注释
            TODO    没处理的事情
            FIXME   已知的无法运行的代码
            HACK    对一个问题不得不采用的比较粗糙的解决方案
            XXX     危险！这里有重要问题
        3. 给常量加注释
    3. 站着读者的角度去想象他们需要知道什么
        1. 意料之中的提问
        2. 公布可能的陷阱
        3. “全局观”注释
        4. 总结性的注释
        
> 写好注释的几个步骤

    1. 不管你心里想什么，先把它写下来。
    2. 读一下这段注释，看看有没有什么地方可以改善
    3. 不断改进。

> 写出言简意赅的注释

    1. 注释应当有很高的信息/空间率。
    2. 避免使用不明确的代词。
    3. 润色粗糙的句子。
    4. 精确地描述函数的行为。
    5. 用输入/输出例子来说明特殊的情况。
    6. 声明代码的意图。
    7. 具名函数的注释。
    8. 采用信息含量高的词。

### 3. 代码整洁


## 简化循环和逻辑
> 把条件、循环以及其他对控制流的改变做得“自然”越好。
运用一种方式使读者不用停下来重读的代码。

    1. 条件语句中参数的顺序
    2. if/else语句块的顺序
    3. 条件表达式/三目运算符
        **默认情况下都用if/else，三目运算符只在最简单的情况下使用。
    4. 避免 do/while循环
    5. 从函数中提前返回
    6. 臭名昭著的goto
    7. 最小化嵌套
        **提前返回减少嵌套**
        **减少循化内的嵌套**
    8. 拆分超出的表达式
        把你的超长表达式拆分成更容易理解的小块。
        1.用做解释的变量。
        2.总结变量。
        3.拆分巨大的语句。
        4.另一个简化表达式的创意方法。
            例如**定义宏**
    9. 变量与可读性
        1.变量越多，就越难避免跟踪他们的动向。
            **减少变量**
            1. 没有价值的临时变量；
            2. 减少中间结果；
            3. 减少控制变量。
        2.变量的作用域越大，就需要跟踪它的动向越久。
            **缩小变量的作用域**
            让你的变量对尽量少的代码行可见。
            只写一次的变量更好。
        3.变量改变的越频繁，就越难以跟踪它的当前值。
        
   
## 重新组织你的代码
> 所谓工程学就是关于把大问题拆分成小问题再把这些问题的解决方案放回一起。把这条原则
应用于代码会使代码更健壮并且更容易读。

    1. 抽取不相关的子问题。
        1. 看看某个函数或代码块，问问你自己：这段代码高层次的目标是什么？
        2. 对于每一行代码，问一下：它是直接为目标而工作吗？这段代码高层次
        的目标是什么？
        3. 如果足够的行数在解决不相关的子问题，抽取代码到独立的函数中。
    2. 纯工具代码。
    3. 创建大量的通用代码。
    4. 一次只做一件事。
    5. 少写代码。不写不需要的功能，质疑和拆分需求，保持小代码库，熟悉周边库。
## 精选话题





# 参考书籍
1. 《Refactoring: Improving the design of Existing Code》
2. 《Code Complete: A Practical Handbook of Software Construction, 2nd edition》 by Steve McConnell
etc
